{% extends "main/index.html" %}

{% block lists %}
<div>
    <table class="projectlist" border="0" cellpadding="8" cellspacing="3">
        <thead>
            <td> </td>
            <td>ID</td>
            <td style="width: 250px;">Название</td>
            <td style="width: 150px;">Приоритет</td>
            <td style="width: 100px;">Тип кейса</td>
            <td style="width: 150px;">Дата создания</td>
            <td style="width: 450px;">Автор</td>
            <td>Проект</td>
        </thead>
        {% for testcase in testcases %}
            <thead>
                <td><input type="checkbox" class="pick" name="pick" value="{{ testcase.testcase_id }}"></td>
                <td>{{ testcase.testcase_id }}</td>
                <td>{{ testcase.name }}</td>
                <td>{{ testcase.priority }}</td>
                <td>{{ testcase.case_type }}</td>
                <td>{{ testcase.creation_date|date:"j M Y" }}</td>
                <td>{{ testcase.id }}</td>
                <td>{{ testcase.project }}</td>
                <td class="createproj edit" data-menu-target="project-menu-{{ testcase.testcase_id }}">...</td>
            </thead>

            <div id="project-menu-{{ testcase.testcase_id }}" class="context-menu" style="display: none;">
                <input type="submit" class="edit-link" onclick="location.href = '/testcases/{{ testcase.testcase_id }}/edit/'" value="Редактировать" data-testcase-id="{{ testcase.testcase_id }}">
                <input type="submit" class="delete-link" value="Исключить" data-testcase-id="{{ testcase.testcase_id }}">
            </div>
        {% endfor %}
</div>

<a class="createproj" href="/testcases/new">Добавить кейс</a>
<form id="searchForm">
    <input type="text" id="searchInput" placeholder="Поиск кейса по названию...">
</form>

<div id="password-form" style="display:none;">
    <form id="delete-form" method="post">
      {% csrf_token %}
      <label for="password">Введите пароль для подтверждения исключения:</label><br>
      <input type="password" id="password" name="password"><br>
      <input type="submit" value="Удалить">
      <input type="submit" value="Закрыть" onclick="this.parentElement.style.display='none'">
    </form>
</div>
{% endblock lists %}